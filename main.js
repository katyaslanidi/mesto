(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e){var n=e.url,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=n,this._headers=r}var n,r;return n=t,(r=[{key:"_getResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"editUserInfo",value:function(t,e){var n=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then((function(t){return n._getResponse(t)}))}},{key:"addNewCard",value:function(t,e){var n=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:e})}).then((function(t){return n._getResponse(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"addLikeCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"deleteLikeCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"editProfileImage",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})}).then((function(t){return e._getResponse(t)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===r(e)?e:String(e)}var u=function(){function t(e,n,r,o,u,a){var c,l,s,f=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c=this,s=function(){f._newElement.remove(),f._newElement=null},(l=i(l="deleteCard"))in c?Object.defineProperty(c,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[l]=s,this._data=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._owenerId=e.owner._id,this._userId=a,this._template=n,this._handleCardClick=r,this._handleTrashClick=o,this._handleLikeClick=u}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"createCard",value:function(){return this._newElement=this._getTemplate(),this._cardText=this._newElement.querySelector(".element__text"),this._cardImage=this._newElement.querySelector(".element__image"),this._cardText.textContent=this._name,this._cardImage.alt=this._name,this._cardImage.src=this._link,this._trashButton=this._newElement.querySelector(".element__trash"),this._likeButton=this._newElement.querySelector(".element__like"),this._setListenersForItem(),this.setLikesCard(this._likes),this._userId!==this._ownerId&&(this._trashButton.remove(),this._trashButton=null),this._newElement}},{key:"_activeLike",value:function(){this._likeButton.classList.add("element__liked")}},{key:"_deactiveLike",value:function(){this._likeButton.classList.remove("element__liked")}},{key:"alreadyLiked",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._userId}))}},{key:"setLikesCard",value:function(t){this._likes=t;var e=this._newElement.querySelector(".element__like-counter");this.alreadyLiked()?this._activeLike():this._deactiveLike(),e.textContent=this._likes.length}},{key:"_setListenersForItem",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t._id)})),this._trashButton.addEventListener("click",(function(){t._handleTrashClick(t._id)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick({name:t._name,link:t._link})}))}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=n,this._settings=e,this._currentButton=n.querySelector(this._settings.submitButtonSelector)}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"disableButton",value:function(t){t.setAttribute("disabled",!0),t.classList.add(this._settings.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var t=this;this._form.addEventListener("input",(function(){t._validateInput(event)}))}},{key:"_validateInput",value:function(t){this._input=t.target,this._isValidField(),this._isValidButtonAndInput()}},{key:"_isValidField",value:function(){this._errorSpan=this._form.querySelector("#".concat(this._input.id,"-error")),this._errorSpan.textContent=this._input.validationMessage}},{key:"_isValidButtonAndInput",value:function(){this._form.checkValidity()?this._setSubmitButton(!0):this._setSubmitButton(!1),this._input.checkValidity()?this._setErrorInput(!0):this._setErrorInput(!1)}},{key:"_setSubmitButton",value:function(t){t?(this._currentButton.removeAttribute("disabled"),this._currentButton.classList.remove(this._settings.inactiveButtonClass)):this.disableButton(this._currentButton)}},{key:"_setErrorInput",value:function(t){t?(this._input.classList.remove(this._settings.inputErrorClass),this._errorSpan.textContent=""):this._input.classList.add(this._settings.inputErrorClass)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("overlay_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("overlay_opened")}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){(e.target.classList.contains("overlay_opened")||e.target.classList.contains("close-button"))&&t.close()}))}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(this,arguments)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(o){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._inputForm=n._popup.querySelector(".popup__form"),n._inputList=n._popup.querySelectorAll(".popup__input"),n._submitButton=n._popup.querySelector(".popup__button"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._inputForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),h(v(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){h(v(u.prototype),"close",this).call(this),this._inputForm.reset()}},{key:"rendererLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},S.apply(this,arguments)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(r);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._image=e._popup.querySelector(".card-popup__image"),e._text=e._popup.querySelector(".card-popup__text"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;this._image.src=n,this._image.alt=e,this._text.textContent=e,S(k(u.prototype),"open",this).call(this)}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(r);if(o){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".popup__form"),e._submitButton=e._popup.querySelector(".popup__button"),e}return e=u,(n=[{key:"rendererLoading",value:function(t){this._submitButton.textContent=t?"Удаление...":"Да"}},{key:"setSubmitHandlers",value:function(t){this._handleFormSubmit=t}},{key:"setEventListeners",value:function(){var t=this;P(C(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()}))}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}var B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=e,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._container.append(e._renderer(t))}))}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}var A=function(){function t(e){var n=e.nameSelector,r=e.jobSelector,o=e.userProfileImageSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._job=document.querySelector(r),this._profileImage=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job,r=t.image;this._name.textContent=e,this._job.textContent=n,this._profileImage.src=r}}])&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U,F=document.querySelector(".profile__add"),D=document.querySelector(".profile__edit"),N=document.querySelector(".profile__image-edit-button"),H=document.querySelector(".popup__form"),J=document.querySelector(".add-card-popup__form"),G=document.querySelector(".avatar-edit__form"),M=document.querySelector(".add-card-popup__button"),z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_invalid",inputErrorClass:"popup__input_error",errorClass:"error"},$=new l(z,H),K=new l(z,J),Q=new l(z,G);$.enableValidation(),K.enableValidation(),Q.enableValidation();var W=new n({url:"https://mesto.nomoreparties.co/v1/cohort-62",headers:{authorization:"c41c66fe-334b-43d7-a03f-de906f681c65","Content-Type":"application/json"}});Promise.all([W.getUserInfo(),W.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];U=o._id,Y.setUserInfo(o),X.renderItems(i)})).catch((function(t){return console.log(t)})).finally((function(){}));var X=new B((function(t){return ot(t)}),".element-template"),Y=new A({nameSelector:".profile__name",jobSelector:".profile__job",userProfileImageSelector:".profile__image"}),Z=new j(".card-popup");Z.setEventListeners();var tt=new I(".card-delete");tt.setEventListeners();var et=new b(".profile-popup",(function(t){var e=t.userName,n=t.userJob;et.rendererLoading(!0),W.editUserInfo(e,n).then((function(t){Y.setUserInfo(t),et.close()})).catch((function(t){return console.log(t)})).finally((function(){return et.rendererLoading(!1)}))}));et.setEventListeners();var nt=new b(".avatar-edit",(function(t){nt.rendererLoading(!0),W.editProfileImage(t).then((function(t){Y.setUserInfo(t),nt.close()})).catch((function(t){return console.log(t)})).finally((function(){return nt.rendererLoading(!1)}))}));nt.setEventListeners();var rt=new b(".add-card-popup",(function(t){rt.rendererLoading(!0);var e=t.name,n=t.link;W.addNewCard(e,n).then((function(t){var e=ot(t);X.addItem(e),K.disableButton(M),rt.close()})).catch((function(t){return console.log(t)})).finally((function(){return rt.rendererLoading(!1)}))}));rt.setEventListeners();var ot=function(t){var e=new u(t,".element-template",(function(t,e){Z.open(t,e)}),(function(t){tt.open(),tt.setSubmitHandlers((function(){tt.rendererLoading(!0),W.deleteCard(t).then((function(t){e.deleteCard(t),tt.close()})).catch((function(t){return console.log(t)})).finally((function(){return tt.rendererLoading(!1)}))}))}),(function(t){e.alreadyLiked()?W.deleteLikeCard(t).then((function(t){e.setLikesCard(t.likes)})).catch((function(t){return console.log(t)})):W.addLikeCard(t).then((function(t){e.setLikesCard(t.likes)})).catch((function(t){return console.log(t)}))}),U);return e.createCard()};D.addEventListener("click",(function(){et._getInputValues(Y.getUserInfo()),et.open()})),F.addEventListener("click",(function(){rt.open()})),N.addEventListener("click",(function(){nt.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxHQUNNa0ssRUFBS2pILGVBUVJtRyxFQUNHaUMsZUFBZXJMLEdBQ2ZiLE1BQUssU0FBQ29CLEdBQ0wySixFQUFLekgsYUFBYWxDLEVBQUtZLE1BQ3pCLElBQUUsT0FDSyxTQUFDNEksR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLElBWmxDWCxFQUNHa0MsWUFBWXRMLEdBQ1piLE1BQUssU0FBQ29CLEdBQ0wySixFQUFLekgsYUFBYWxDLEVBQUtZLE1BQ3pCLElBQUUsT0FDSyxTQUFDNEksR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLEdBU3RDLEdBQ0FuSixHQUVGLE9BQU9zSixFQUFLcUIsWUFDZCxFQUVBakQsRUFBWWpGLGlCQUFpQixTQUFTLFdBQ3BDa0gsR0FBYy9ELGdCQUFnQm1ELEVBQVNKLGVBQ3ZDZ0IsR0FBY1csTUFDaEIsSUFFQTdDLEVBQWVoRixpQkFBaUIsU0FBUyxXQUN2Q3dILEdBQWFLLE1BQ2YsSUFFQTNDLEVBQWdCbEYsaUJBQWlCLFNBQVMsV0FDeENxSCxHQUFzQlEsTUFDeEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoeyB1cmwsIGhlYWRlcnMgfSkge1xyXG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgIH1cclxuICAgIF9nZXRSZXNwb25zZShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG4gICAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuICAgIGVkaXRVc2VySW5mbyh1c2VyTmFtZSwgdXNlckpvYikge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogdXNlckpvYixcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuICAgIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgbGluayxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuICAgIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgICB9XHJcbiAgICBhZGRMaWtlQ2FyZChpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuICAgIGRlbGV0ZUxpa2VDYXJkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG4gICAgZWRpdFByb2ZpbGVJbWFnZShhdmF0YXIpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGF2YXRhci5saW5rLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlVHJhc2hDbGljaywgaGFuZGxlTGlrZUNsaWNrLCB1c2VySWQpIHtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3dlbmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVUcmFzaENsaWNrID0gaGFuZGxlVHJhc2hDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSlcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX25ld0VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRUZXh0ID0gdGhpcy5fbmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGV4dCcpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fbmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkVGV4dC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG5cclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fbmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gnKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9uZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XHJcblxyXG4gICAgdGhpcy5fc2V0TGlzdGVuZXJzRm9ySXRlbSgpO1xyXG4gICAgdGhpcy5zZXRMaWtlc0NhcmQodGhpcy5fbGlrZXMpO1xyXG5cclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgdGhpcy5fdHJhc2hCdXR0b24ucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fbmV3RWxlbWVudDtcclxuICB9XHJcbiAgZGVsZXRlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX25ld0VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9uZXdFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbiAgX2FjdGl2ZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2VkJyk7XHJcbiAgfVxyXG4gIF9kZWFjdGl2ZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2xpa2VkJyk7XHJcbiAgfVxyXG4gIGFscmVhZHlMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKCh1c2VyTGlrZSkgPT4gdXNlckxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuICBzZXRMaWtlc0NhcmQobmV3TGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XHJcbiAgICBjb25zdCBsaWtlQ291bnRlciA9IHRoaXMuX25ld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpO1xyXG4gICAgaWYgKHRoaXMuYWxyZWFkeUxpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fYWN0aXZlTGlrZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZGVhY3RpdmVMaWtlKCk7XHJcbiAgICB9XHJcbiAgICBsaWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcbiAgX3NldExpc3RlbmVyc0Zvckl0ZW0oKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5faWQpO1xyXG4gICAgfSlcclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVUcmFzaENsaWNrKHRoaXMuX2lkKTtcclxuICAgIH0pXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLl9jdXJyZW50QnV0dG9uID0gZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uKSB7XHJcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl92YWxpZGF0ZUlucHV0KGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF92YWxpZGF0ZUlucHV0KGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZEZpZWxkKCk7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZEJ1dHRvbkFuZElucHV0KCk7XHJcbiAgICB9XHJcbiAgICBfaXNWYWxpZEZpZWxkKCkge1xyXG4gICAgICAgIHRoaXMuX2Vycm9yU3BhbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5faW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JTcGFuLnRleHRDb250ZW50ID0gdGhpcy5faW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgICBfaXNWYWxpZEJ1dHRvbkFuZElucHV0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9mb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRTdWJtaXRCdXR0b24odHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0U3VibWl0QnV0dG9uKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAodGhpcy5faW5wdXQuY2hlY2tWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldEVycm9ySW5wdXQodHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0RXJyb3JJbnB1dChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldFN1Ym1pdEJ1dHRvbihzdGF0ZSkge1xyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbih0aGlzLl9jdXJyZW50QnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0RXJyb3JJbnB1dChzdGF0ZSkge1xyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yU3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgnb3ZlcmxheV9vcGVuZWQnKTtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmxheV9vcGVuZWQnKTtcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvdmVybGF5X29wZW5lZCcpIFxyXG4gICAgICAgICAgICB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UtYnV0dG9uJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5faW5wdXRGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgICB9XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0Rm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyZXJMb2FkaW5nKGxvYWRpbmcpIHtcclxuICAgICAgICBpZiAobG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1wb3B1cF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmNhcmQtcG9wdXBfX3RleHQnKTtcclxuICAgIH1cclxuICAgIG9wZW4oe25hbWUsIGxpbmt9KSB7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3RleHQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyZXJMb2FkaW5nKGxvYWRpbmcpIHtcclxuICAgICAgICBpZihsb2FkaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0JTQsFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFN1Ym1pdEhhbmRsZXJzKHN1Ym1pdEhhbmRsZXJzKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IHN1Ym1pdEhhbmRsZXJzO1xyXG4gICAgfVxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHsgXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZCh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIHVzZXJQcm9maWxlSW1hZ2VTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJQcm9maWxlSW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBzZXRVc2VySW5mbyh7bmFtZSwgam9iLCBpbWFnZX0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZUltYWdlLnNyYyA9IGltYWdlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5cclxuLy8gY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9uYW1lJyk7XHJcbi8vIGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9qb2InKTtcclxuY29uc3QgcG9wdXBBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkJyk7XHJcbmNvbnN0IHBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQnKTtcclxuY29uc3QgaW1hZ2VFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWVkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbmNvbnN0IGZvcm1BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1jYXJkLXBvcHVwX19mb3JtJyk7XHJcbmNvbnN0IHByb2ZpbGVJbWFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXZhdGFyLWVkaXRfX2Zvcm0nKTtcclxuY29uc3QgcG9wdXBTdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLWNhcmQtcG9wdXBfX2J1dHRvbicpO1xyXG5jb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25faW52YWxpZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAnZXJyb3InXHJcbn07XHJcbmNvbnN0IGFwaUNvbmZpZyA9IHtcclxuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYyJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnYzQxYzY2ZmUtMzM0Yi00M2Q3LWEwM2YtZGU5MDZmNjgxYzY1JyxcclxuICAgIFwiQ29udGVudC1UeXBlXCI6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICB9LFxyXG59O1xyXG5sZXQgdXNlcklkO1xyXG5cclxuY29uc3QgcHJvZmlsZVZhbGlkYXRvckVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIHByb2ZpbGVGb3JtKTtcclxuY29uc3QgY2FyZFZhbGlkYXRvckFkZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgZm9ybUFkZENhcmQpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2VWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIHByb2ZpbGVJbWFnZUZvcm0pO1xyXG5cclxucHJvZmlsZVZhbGlkYXRvckVkaXQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jYXJkVmFsaWRhdG9yQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucHJvZmlsZUltYWdlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW21lLCBjYXJkc10pID0+IHtcclxuICAgIHVzZXJJZCA9IG1lLl9pZDtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG1lKTtcclxuICAgIGNhcmRzQ29udGFpbmVyLnJlbmRlckl0ZW1zKGNhcmRzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIC5maW5hbGx5KCgpID0+IHsgfSk7XHJcblxyXG5jb25zdCBjYXJkc0NvbnRhaW5lciA9IG5ldyBTZWN0aW9uKFxyXG4gIChjYXJkKSA9PiBjcmVhdGVOZXdDYXJkKGNhcmQpLFxyXG4gICcuZWxlbWVudC10ZW1wbGF0ZSdcclxuKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXHJcbiAgam9iU2VsZWN0b3I6ICcucHJvZmlsZV9fam9iJyxcclxuICB1c2VyUHJvZmlsZUltYWdlU2VsZWN0b3I6ICcucHJvZmlsZV9faW1hZ2UnXHJcbn0pO1xyXG5cclxuY29uc3Qgb3BlblBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5jYXJkLXBvcHVwJyk7XHJcbm9wZW5Qb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhTdWJtaXQgPSBuZXcgUG9wdXBXaXRoU3VibWl0KCcuY2FyZC1kZWxldGUnKTtcclxucG9wdXBXaXRoU3VibWl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cFVzZXJFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wcm9maWxlLXBvcHVwJywgKGRhdGEpID0+IHtcclxuICBjb25zdCB7IHVzZXJOYW1lLCB1c2VySm9iIH0gPSBkYXRhO1xyXG4gIHBvcHVwVXNlckVkaXQucmVuZGVyZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRVc2VySW5mbyh1c2VyTmFtZSwgdXNlckpvYilcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBwb3B1cFVzZXJFZGl0LmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cFVzZXJFZGl0LnJlbmRlcmVyTG9hZGluZyhmYWxzZSkpO1xyXG59KTtcclxucG9wdXBVc2VyRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlSW1hZ2VFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5hdmF0YXItZWRpdCcsIChkYXRhKSA9PiB7XHJcbiAgcG9wdXBQcm9maWxlSW1hZ2VFZGl0LnJlbmRlcmVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5lZGl0UHJvZmlsZUltYWdlKGRhdGEpXHJcbiAgICAudGhlbigoZm9ybURhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG4gICAgICBwb3B1cFByb2ZpbGVJbWFnZUVkaXQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwUHJvZmlsZUltYWdlRWRpdC5yZW5kZXJlckxvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcbnBvcHVwUHJvZmlsZUltYWdlRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5hZGQtY2FyZC1wb3B1cCcsIChkYXRhQ2FyZCkgPT4ge1xyXG4gIHBvcHVwQWRkQ2FyZC5yZW5kZXJlckxvYWRpbmcodHJ1ZSk7XHJcbiAgY29uc3QgeyBuYW1lLCBsaW5rIH0gPSBkYXRhQ2FyZDtcclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKG5hbWUsIGxpbmspXHJcbiAgICAudGhlbigobmV3RGF0YUNhcmQpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZU5ld0NhcmQobmV3RGF0YUNhcmQpO1xyXG4gICAgICBjYXJkc0NvbnRhaW5lci5hZGRJdGVtKGNhcmQpO1xyXG4gICAgICBjYXJkVmFsaWRhdG9yQWRkLmRpc2FibGVCdXR0b24ocG9wdXBTdWJtaXRCdXR0b24pO1xyXG4gICAgICBwb3B1cEFkZENhcmQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQWRkQ2FyZC5yZW5kZXJlckxvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChkYXRhQ2FyZCkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGFDYXJkLFxyXG4gICAgJy5lbGVtZW50LXRlbXBsYXRlJyxcclxuICAgIChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgICAgIG9wZW5Qb3B1cEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbiAgICB9LFxyXG4gICAgKGlkKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aFN1Ym1pdC5vcGVuKCk7XHJcbiAgICAgIHBvcHVwV2l0aFN1Ym1pdC5zZXRTdWJtaXRIYW5kbGVycygoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBXaXRoU3VibWl0LnJlbmRlcmVyTG9hZGluZyh0cnVlKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5kZWxldGVDYXJkKGlkKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQocmVzKTtcclxuICAgICAgICAgICAgcG9wdXBXaXRoU3VibWl0LmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiBwb3B1cFdpdGhTdWJtaXQucmVuZGVyZXJMb2FkaW5nKGZhbHNlKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIChpZCkgPT4ge1xyXG4gICAgICBpZiAoIWNhcmQuYWxyZWFkeUxpa2VkKCkpIHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5hZGRMaWtlQ2FyZChpZClcclxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNDYXJkKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5kZWxldGVMaWtlQ2FyZChpZClcclxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNDYXJkKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVzZXJJZFxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCgpXHJcbn07XHJcblxyXG5wb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFVzZXJFZGl0Ll9nZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICBwb3B1cFVzZXJFZGl0Lm9wZW4oKTtcclxufSk7XHJcblxyXG5wb3B1cEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEFkZENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbmltYWdlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGVJbWFnZUVkaXQub3BlbigpO1xyXG59KSJdLCJuYW1lcyI6WyJBcGkiLCJfcmVmIiwidXJsIiwiaGVhZGVycyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdXJsIiwiX2hlYWRlcnMiLCJrZXkiLCJ2YWx1ZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJjb25jYXQiLCJzdGF0dXMiLCJfdGhpcyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9nZXRSZXNwb25zZSIsIl90aGlzMiIsInVzZXJOYW1lIiwidXNlckpvYiIsIl90aGlzMyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0IiwibGluayIsIl90aGlzNCIsImlkIiwiX3RoaXM1IiwiX3RoaXM2IiwiX3RoaXM3IiwiYXZhdGFyIiwiX3RoaXM4IiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVRyYXNoQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ1c2VySWQiLCJfbmV3RWxlbWVudCIsInJlbW92ZSIsIl9kYXRhIiwiX25hbWUiLCJfbGluayIsIl9saWtlcyIsImxpa2VzIiwiX2lkIiwiX293ZW5lcklkIiwib3duZXIiLCJfdXNlcklkIiwiX3RlbXBsYXRlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVUcmFzaENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRleHQiLCJfY2FyZEltYWdlIiwidGV4dENvbnRlbnQiLCJhbHQiLCJzcmMiLCJfdHJhc2hCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9zZXRMaXN0ZW5lcnNGb3JJdGVtIiwic2V0TGlrZXNDYXJkIiwiX293bmVySWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzb21lIiwidXNlckxpa2UiLCJuZXdMaWtlcyIsImxpa2VDb3VudGVyIiwiYWxyZWFkeUxpa2VkIiwiX2FjdGl2ZUxpa2UiLCJfZGVhY3RpdmVMaWtlIiwibGVuZ3RoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm0iLCJfZm9ybSIsIl9zZXR0aW5ncyIsIl9jdXJyZW50QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJidXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3ZhbGlkYXRlSW5wdXQiLCJldmVudCIsIl9pbnB1dCIsInRhcmdldCIsIl9pc1ZhbGlkRmllbGQiLCJfaXNWYWxpZEJ1dHRvbkFuZElucHV0IiwiX2Vycm9yU3BhbiIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tWYWxpZGl0eSIsIl9zZXRTdWJtaXRCdXR0b24iLCJfc2V0RXJyb3JJbnB1dCIsInN0YXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZGlzYWJsZUJ1dHRvbiIsImlucHV0RXJyb3JDbGFzcyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY29udGFpbnMiLCJjbG9zZSIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJoYW5kbGVGb3JtU3VibWl0IiwiY2FsbCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0Rm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwicmVzZXQiLCJsb2FkaW5nIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfdGV4dCIsIlBvcHVwV2l0aFN1Ym1pdCIsInN1Ym1pdEhhbmRsZXJzIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsInByZXBlbmQiLCJpdGVtcyIsImFwcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJ1c2VyUHJvZmlsZUltYWdlU2VsZWN0b3IiLCJfam9iIiwiX3Byb2ZpbGVJbWFnZSIsImpvYiIsIl9yZWYyIiwiaW1hZ2UiLCJwb3B1cEFkZEJ1dHRvbiIsInBvcHVwQnV0dG9uIiwiaW1hZ2VFZGl0QnV0dG9uIiwicHJvZmlsZUZvcm0iLCJmb3JtQWRkQ2FyZCIsInByb2ZpbGVJbWFnZUZvcm0iLCJwb3B1cFN1Ym1pdEJ1dHRvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJlcnJvckNsYXNzIiwicHJvZmlsZVZhbGlkYXRvckVkaXQiLCJjYXJkVmFsaWRhdG9yQWRkIiwicHJvZmlsZUltYWdlVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsIm1lIiwiY2FyZHMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2FyZHNDb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjYXJkIiwiY3JlYXRlTmV3Q2FyZCIsIm9wZW5Qb3B1cEltYWdlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cFdpdGhTdWJtaXQiLCJwb3B1cFVzZXJFZGl0IiwicmVuZGVyZXJMb2FkaW5nIiwiZWRpdFVzZXJJbmZvIiwicG9wdXBQcm9maWxlSW1hZ2VFZGl0IiwiZWRpdFByb2ZpbGVJbWFnZSIsImZvcm1EYXRhIiwicG9wdXBBZGRDYXJkIiwiZGF0YUNhcmQiLCJhZGROZXdDYXJkIiwibmV3RGF0YUNhcmQiLCJhZGRJdGVtIiwib3BlbiIsInNldFN1Ym1pdEhhbmRsZXJzIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZUxpa2VDYXJkIiwiYWRkTGlrZUNhcmQiLCJjcmVhdGVDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e){var n=e.url,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=n,this._headers=r}var n,r;return n=t,(r=[{key:"_getResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"editUserInfo",value:function(t,e){var n=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then((function(t){return n._getResponse(t)}))}},{key:"addNewCard",value:function(t,e){var n=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:e})}).then((function(t){return n._getResponse(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"addLikeCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"deleteLikeCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"editProfileImage",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})}).then((function(t){return e._getResponse(t)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===r(e)?e:String(e)}var u=function(){function t(e,n,r,o,u,a){var c,l,s,f=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c=this,s=function(){f._newElement.remove(),f._newElement=null},(l=i(l="deleteCard"))in c?Object.defineProperty(c,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[l]=s,this._data=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._owenerId=e.owner._id,this._userId=a,this._template=n,this._handleCardClick=r,this._handleTrashClick=o,this._handleLikeClick=u}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"createCard",value:function(){return this._newElement=this._getTemplate(),this._cardText=this._newElement.querySelector(".element__text"),this._cardImage=this._newElement.querySelector(".element__image"),this._cardText.textContent=this._name,this._cardImage.alt=this._name,this._cardImage.src=this._link,this._trashButton=this._newElement.querySelector(".element__trash"),this._likeButton=this._newElement.querySelector(".element__like"),this._setListenersForItem(),this.setLikesCard(this._likes),this._userId!==this._ownerId&&(this._trashButton.remove(),this._trashButton=null),this._newElement}},{key:"_activeLike",value:function(){this._likeButton.classList.add("element__liked")}},{key:"_deactiveLike",value:function(){this._likeButton.classList.remove("element__liked")}},{key:"alreadyLiked",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._userId}))}},{key:"setLikesCard",value:function(t){this._likes=t;var e=this._newElement.querySelector(".element__like-counter");this.alreadyLiked()?this._activeLike():this._deactiveLike(),e.textContent=this._likes.length}},{key:"_setListenersForItem",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t._id)})),this._trashButton.addEventListener("click",(function(){t._handleTrashClick(t._id)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick({name:t._name,link:t._link})}))}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=n,this._settings=e,this._currentButton=n.querySelector(this._settings.submitButtonSelector)}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"disableButton",value:function(t){t.setAttribute("disabled",!0),t.classList.add(this._settings.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var t=this;this._form.addEventListener("input",(function(){t._validateInput(event)}))}},{key:"_validateInput",value:function(t){this._input=t.target,this._isValidField(),this._isValidButtonAndInput()}},{key:"_isValidField",value:function(){this._errorSpan=this._form.querySelector("#".concat(this._input.id,"-error")),this._errorSpan.textContent=this._input.validationMessage}},{key:"_isValidButtonAndInput",value:function(){this._form.checkValidity()?this._setSubmitButton(!0):this._setSubmitButton(!1),this._input.checkValidity()?this._setErrorInput(!0):this._setErrorInput(!1)}},{key:"_setSubmitButton",value:function(t){t?(this._currentButton.removeAttribute("disabled"),this._currentButton.classList.remove(this._settings.inactiveButtonClass)):this.disableButton(this._currentButton)}},{key:"_setErrorInput",value:function(t){t?(this._input.classList.remove(this._settings.inputErrorClass),this._errorSpan.textContent=""):this._input.classList.add(this._settings.inputErrorClass)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("overlay_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("overlay_opened")}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){(e.target.classList.contains("overlay_opened")||e.target.classList.contains("close-button"))&&t.close()}))}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(this,arguments)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(o){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._inputForm=n._popup.querySelector(".popup__form"),n._inputList=n._popup.querySelectorAll(".popup__input"),n._submitButton=n._popup.querySelector(".popup__button"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._inputForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),h(v(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){h(v(u.prototype),"close",this).call(this),this._inputForm.reset()}},{key:"rendererLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},S.apply(this,arguments)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(r);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._image=e._popup.querySelector(".card-popup__image"),e._text=e._popup.querySelector(".card-popup__text"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;this._image.src=n,this._image.alt=e,this._text.textContent=e,S(k(u.prototype),"open",this).call(this)}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(r);if(o){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".popup__form"),e._submitButton=e._popup.querySelector(".popup__button"),e}return e=u,(n=[{key:"rendererLoading",value:function(t){this._submitButton.textContent=t?"Удаление...":"Да"}},{key:"setSubmitHandlers",value:function(t){this._handleFormSubmit=t}},{key:"setEventListeners",value:function(){var t=this;P(C(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()}))}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}var B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=e,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._container.append(e._renderer(t))}))}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}var A=function(){function t(e){var n=e.nameSelector,r=e.jobSelector,o=e.userProfileImageSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._job=document.querySelector(r),this._profileImage=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job,r=t.image;this._name.textContent=e,this._job.textContent=n,this._profileImage.src=r}}])&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}document.querySelector(".popup__input_name"),document.querySelector(".popup__input_job");var U,F=document.querySelector(".profile__add"),D=document.querySelector(".profile__edit"),N=document.querySelector(".profile__image-edit-button"),H=document.querySelector(".popup__form"),J=document.querySelector(".add-card-popup__form"),G=document.querySelector(".avatar-edit__form"),M=document.querySelector(".add-card-popup__button"),z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_invalid",inputErrorClass:"popup__input_error",errorClass:"error"},$=new l(z,H),K=new l(z,J),Q=new l(z,G);$.enableValidation(),K.enableValidation(),Q.enableValidation();var W=new n({url:"https://mesto.nomoreparties.co/v1/cohort-62",headers:{authorization:"c41c66fe-334b-43d7-a03f-de906f681c65","Content-Type":"application/json"}});Promise.all([W.getUserInfo(),W.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];U=o._id,Y.setUserInfo(o),X.renderItems(i)})).catch((function(t){return console.log(t)})).finally((function(){}));var X=new B((function(t){return ot(t)}),".element-template"),Y=new A({nameSelector:".profile__name",jobSelector:".profile__job",userProfileImageSelector:".profile__image"}),Z=new j(".card-popup");Z.setEventListeners();var tt=new I(".card-delete");tt.setEventListeners();var et=new b(".profile-popup",(function(t){var e=t.nameInput,n=t.jobInput;et.rendererLoading(!0),W.editUserInfo(e,n).then((function(t){Y.setUserInfo(t),et.close()})).catch((function(t){return console.log(t)})).finally((function(){return et.rendererLoading(!1)}))}));et.setEventListeners();var nt=new b(".avatar-edit",(function(t){nt.rendererLoading(!0),W.editProfileImage(t).then((function(t){Y.setUserInfo(t),nt.close()})).catch((function(t){return console.log(t)})).finally((function(){return nt.rendererLoading(!1)}))}));nt.setEventListeners();var rt=new b(".add-card-popup",(function(t){rt.rendererLoading(!0);var e=t.name,n=t.link;W.addNewCard(e,n).then((function(t){var e=ot(t);X.addItem(e),K.disableButton(M),rt.close()})).catch((function(t){return console.log(t)})).finally((function(){return rt.rendererLoading(!1)}))}));rt.setEventListeners();var ot=function(t){var e=new u(t,".element-template",(function(t,e){Z.open(t,e)}),(function(t){tt.open(),tt.setSubmitHandlers((function(){tt.rendererLoading(!0),W.deleteCard(t).then((function(t){e.deleteCard(t),tt.close()})).catch((function(t){return console.log(t)})).finally((function(){return tt.rendererLoading(!1)}))}))}),(function(t){e.alreadyLiked()?W.deleteLikeCard(t).then((function(t){e.setLikesCard(t.likes)})).catch((function(t){return console.log(t)})):W.addLikeCard(t).then((function(t){e.setLikesCard(t.likes)})).catch((function(t){return console.log(t)}))}),U);return e.createCard()};D.addEventListener("click",(function(){et._getInputValues(Y.getUserInfo()),et.open()})),F.addEventListener("click",(function(){rt.open()})),N.addEventListener("click",(function(){nt.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQWdCSSxpQkFBZ0IsRUFBTSxHQUN6RCxHQUNGLElBQ0EsU0FBQzFLLEdBQ01rSyxFQUFLakgsZUFRUm1HLEVBQ0dtQyxlQUFldkwsR0FDZmIsTUFBSyxTQUFDb0IsR0FDTDJKLEVBQUt6SCxhQUFhbEMsRUFBS1ksTUFDekIsSUFBRSxPQUNLLFNBQUM0SSxHQUFHLE9BQUtDLFFBQVFDLElBQUlGLEVBQUksSUFabENYLEVBQ0dvQyxZQUFZeEwsR0FDWmIsTUFBSyxTQUFDb0IsR0FDTDJKLEVBQUt6SCxhQUFhbEMsRUFBS1ksTUFDekIsSUFBRSxPQUNLLFNBQUM0SSxHQUFHLE9BQUtDLFFBQVFDLElBQUlGLEVBQUksR0FTdEMsR0FDQW5KLEdBRUYsT0FBT3NKLEVBQUt1QixZQUNkLEVBRUFuRCxFQUFZakYsaUJBQWlCLFNBQVMsV0FDcENrSCxHQUFjL0QsZ0JBQWdCbUQsRUFBU0osZUFDdkNnQixHQUFjYSxNQUNoQixJQUVBL0MsRUFBZWhGLGlCQUFpQixTQUFTLFdBQ3ZDMEgsR0FBYUssTUFDZixJQUVBN0MsRUFBZ0JsRixpQkFBaUIsU0FBUyxXQUN4Q3VILEdBQXNCUSxNQUN4QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHVybCwgaGVhZGVycyB9KSB7XHJcbiAgICAgICAgdGhpcy5fdXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gICAgfVxyXG4gICAgX2dldFJlc3BvbnNlKHJlcykge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgICB9XHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG4gICAgZWRpdFVzZXJJbmZvKHVzZXJOYW1lLCB1c2VySm9iKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyTmFtZSxcclxuICAgICAgICAgICAgICAgIGFib3V0OiB1c2VySm9iLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG4gICAgYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuICAgIGFkZExpa2VDYXJkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlTGlrZUNhcmQoaWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgICB9XHJcbiAgICBlZGl0UHJvZmlsZUltYWdlKGF2YXRhcikge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogYXZhdGFyLmxpbmssXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVUcmFzaENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIHVzZXJJZCkge1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9vd2VuZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2sgPSBoYW5kbGVUcmFzaENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gIH1cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKVxyXG4gICAgICAuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fbmV3RWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblxyXG4gICAgdGhpcy5fY2FyZFRleHQgPSB0aGlzLl9uZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190ZXh0Jyk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9uZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRUZXh0LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcblxyXG4gICAgdGhpcy5fdHJhc2hCdXR0b24gPSB0aGlzLl9uZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190cmFzaCcpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX25ld0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuXHJcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnNGb3JJdGVtKCk7XHJcbiAgICB0aGlzLnNldExpa2VzQ2FyZCh0aGlzLl9saWtlcyk7XHJcblxyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl90cmFzaEJ1dHRvbi5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5fdHJhc2hCdXR0b24gPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9uZXdFbGVtZW50O1xyXG4gIH1cclxuICBkZWxldGVDYXJkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbmV3RWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX25ld0VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuICBfYWN0aXZlTGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZWQnKTtcclxuICB9XHJcbiAgX2RlYWN0aXZlTGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9fbGlrZWQnKTtcclxuICB9XHJcbiAgYWxyZWFkeUxpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHVzZXJMaWtlKSA9PiB1c2VyTGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgfVxyXG4gIHNldExpa2VzQ2FyZChuZXdMaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcclxuICAgIGNvbnN0IGxpa2VDb3VudGVyID0gdGhpcy5fbmV3RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1jb3VudGVyJyk7XHJcbiAgICBpZiAodGhpcy5hbHJlYWR5TGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9hY3RpdmVMaWtlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9kZWFjdGl2ZUxpa2UoKTtcclxuICAgIH1cclxuICAgIGxpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuICBfc2V0TGlzdGVuZXJzRm9ySXRlbSgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2sodGhpcy5faWQpO1xyXG4gICAgfSlcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm0pIHtcclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b24pIHtcclxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlSW5wdXQoZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3ZhbGlkYXRlSW5wdXQoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkRmllbGQoKTtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkQnV0dG9uQW5kSW5wdXQoKTtcclxuICAgIH1cclxuICAgIF9pc1ZhbGlkRmllbGQoKSB7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JTcGFuID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLl9pbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgICAgICB0aGlzLl9lcnJvclNwYW4udGV4dENvbnRlbnQgPSB0aGlzLl9pbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIH1cclxuICAgIF9pc1ZhbGlkQnV0dG9uQW5kSW5wdXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Zvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldFN1Ym1pdEJ1dHRvbih0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRTdWJtaXRCdXR0b24oZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmICh0aGlzLl9pbnB1dC5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0RXJyb3JJbnB1dCh0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRFcnJvcklucHV0KGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0U3VibWl0QnV0dG9uKHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKHRoaXMuX2N1cnJlbnRCdXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXRFcnJvcklucHV0KHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fZXJyb3JTcGFuLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdvdmVybGF5X29wZW5lZCcpO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdvdmVybGF5X29wZW5lZCcpO1xyXG4gICAgfVxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ292ZXJsYXlfb3BlbmVkJykgXHJcbiAgICAgICAgICAgIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1idXR0b24nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9pbnB1dEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICAgIH1cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRGb3JtLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJlckxvYWRpbmcobG9hZGluZykge1xyXG4gICAgICAgIGlmIChsb2FkaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLXBvcHVwX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1wb3B1cF9fdGV4dCcpO1xyXG4gICAgfVxyXG4gICAgb3Blbih7bmFtZSwgbGlua30pIHtcclxuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fdGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJlckxvYWRpbmcobG9hZGluZykge1xyXG4gICAgICAgIGlmKGxvYWRpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQo9C00LDQu9C10L3QuNC1Li4uXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQlNCwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0U3VibWl0SGFuZGxlcnMoc3VibWl0SGFuZGxlcnMpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gc3VibWl0SGFuZGxlcnM7XHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3RvcikgeyBcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgdXNlclByb2ZpbGVJbWFnZVNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlclByb2ZpbGVJbWFnZVNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldFVzZXJJbmZvKHtuYW1lLCBqb2IsIGltYWdlfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGpvYjtcclxuICAgICAgICB0aGlzLl9wcm9maWxlSW1hZ2Uuc3JjID0gaW1hZ2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcblxyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X25hbWUnKTtcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2pvYicpO1xyXG5jb25zdCBwb3B1cEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQnKTtcclxuY29uc3QgcG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdCcpO1xyXG5jb25zdCBpbWFnZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UtZWRpdC1idXR0b24nKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuY29uc3QgZm9ybUFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLWNhcmQtcG9wdXBfX2Zvcm0nKTtcclxuY29uc3QgcHJvZmlsZUltYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdmF0YXItZWRpdF9fZm9ybScpO1xyXG5jb25zdCBwb3B1cFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtY2FyZC1wb3B1cF9fYnV0dG9uJyk7XHJcbmNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9pbnZhbGlkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdlcnJvcidcclxufTtcclxuY29uc3QgYXBpQ29uZmlnID0ge1xyXG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjInLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdjNDFjNjZmZS0zMzRiLTQzZDctYTAzZi1kZTkwNmY2ODFjNjUnLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gIH0sXHJcbn07XHJcbmxldCB1c2VySWQ7XHJcblxyXG5jb25zdCBwcm9maWxlVmFsaWRhdG9yRWRpdCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgcHJvZmlsZUZvcm0pO1xyXG5jb25zdCBjYXJkVmFsaWRhdG9yQWRkID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBmb3JtQWRkQ2FyZCk7XHJcbmNvbnN0IHByb2ZpbGVJbWFnZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgcHJvZmlsZUltYWdlRm9ybSk7XHJcblxyXG5wcm9maWxlVmFsaWRhdG9yRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRWYWxpZGF0b3JBZGQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wcm9maWxlSW1hZ2VWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbbWUsIGNhcmRzXSkgPT4ge1xyXG4gICAgdXNlcklkID0gbWUuX2lkO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8obWUpO1xyXG4gICAgY2FyZHNDb250YWluZXIucmVuZGVySXRlbXMoY2FyZHMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgLmZpbmFsbHkoKCkgPT4geyB9KTtcclxuXHJcbmNvbnN0IGNhcmRzQ29udGFpbmVyID0gbmV3IFNlY3Rpb24oXHJcbiAgKGNhcmQpID0+IGNyZWF0ZU5ld0NhcmQoY2FyZCksXHJcbiAgJy5lbGVtZW50LXRlbXBsYXRlJ1xyXG4pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcclxuICBqb2JTZWxlY3RvcjogJy5wcm9maWxlX19qb2InLFxyXG4gIHVzZXJQcm9maWxlSW1hZ2VTZWxlY3RvcjogJy5wcm9maWxlX19pbWFnZSdcclxufSk7XHJcblxyXG5jb25zdCBvcGVuUG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLmNhcmQtcG9wdXAnKTtcclxub3BlblBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aFN1Ym1pdCA9IG5ldyBQb3B1cFdpdGhTdWJtaXQoJy5jYXJkLWRlbGV0ZScpO1xyXG5wb3B1cFdpdGhTdWJtaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwVXNlckVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnByb2ZpbGUtcG9wdXAnLCAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IHsgbmFtZUlucHV0LCBqb2JJbnB1dCB9ID0gZGF0YTtcclxuICBwb3B1cFVzZXJFZGl0LnJlbmRlcmVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8obmFtZUlucHV0LCBqb2JJbnB1dClcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBwb3B1cFVzZXJFZGl0LmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cFVzZXJFZGl0LnJlbmRlcmVyTG9hZGluZyhmYWxzZSkpO1xyXG59KTtcclxucG9wdXBVc2VyRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlSW1hZ2VFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5hdmF0YXItZWRpdCcsIChkYXRhKSA9PiB7XHJcbiAgcG9wdXBQcm9maWxlSW1hZ2VFZGl0LnJlbmRlcmVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5lZGl0UHJvZmlsZUltYWdlKGRhdGEpXHJcbiAgICAudGhlbigoZm9ybURhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG4gICAgICBwb3B1cFByb2ZpbGVJbWFnZUVkaXQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwUHJvZmlsZUltYWdlRWRpdC5yZW5kZXJlckxvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcbnBvcHVwUHJvZmlsZUltYWdlRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5hZGQtY2FyZC1wb3B1cCcsIChkYXRhQ2FyZCkgPT4ge1xyXG4gIHBvcHVwQWRkQ2FyZC5yZW5kZXJlckxvYWRpbmcodHJ1ZSk7XHJcbiAgY29uc3QgeyBuYW1lLCBsaW5rIH0gPSBkYXRhQ2FyZDtcclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKG5hbWUsIGxpbmspXHJcbiAgICAudGhlbigobmV3RGF0YUNhcmQpID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZU5ld0NhcmQobmV3RGF0YUNhcmQpO1xyXG4gICAgICBjYXJkc0NvbnRhaW5lci5hZGRJdGVtKGNhcmQpO1xyXG4gICAgICBjYXJkVmFsaWRhdG9yQWRkLmRpc2FibGVCdXR0b24ocG9wdXBTdWJtaXRCdXR0b24pO1xyXG4gICAgICBwb3B1cEFkZENhcmQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQWRkQ2FyZC5yZW5kZXJlckxvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChkYXRhQ2FyZCkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGFDYXJkLFxyXG4gICAgJy5lbGVtZW50LXRlbXBsYXRlJyxcclxuICAgIChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgICAgIG9wZW5Qb3B1cEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbiAgICB9LFxyXG4gICAgKGlkKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aFN1Ym1pdC5vcGVuKCk7XHJcbiAgICAgIHBvcHVwV2l0aFN1Ym1pdC5zZXRTdWJtaXRIYW5kbGVycygoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBXaXRoU3VibWl0LnJlbmRlcmVyTG9hZGluZyh0cnVlKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5kZWxldGVDYXJkKGlkKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQocmVzKTtcclxuICAgICAgICAgICAgcG9wdXBXaXRoU3VibWl0LmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiBwb3B1cFdpdGhTdWJtaXQucmVuZGVyZXJMb2FkaW5nKGZhbHNlKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIChpZCkgPT4ge1xyXG4gICAgICBpZiAoIWNhcmQuYWxyZWFkeUxpa2VkKCkpIHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5hZGRMaWtlQ2FyZChpZClcclxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNDYXJkKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5kZWxldGVMaWtlQ2FyZChpZClcclxuICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNDYXJkKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVzZXJJZFxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCgpXHJcbn07XHJcblxyXG5wb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFVzZXJFZGl0Ll9nZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICBwb3B1cFVzZXJFZGl0Lm9wZW4oKTtcclxufSk7XHJcblxyXG5wb3B1cEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEFkZENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbmltYWdlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGVJbWFnZUVkaXQub3BlbigpO1xyXG59KSJdLCJuYW1lcyI6WyJBcGkiLCJfcmVmIiwidXJsIiwiaGVhZGVycyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdXJsIiwiX2hlYWRlcnMiLCJrZXkiLCJ2YWx1ZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJjb25jYXQiLCJzdGF0dXMiLCJfdGhpcyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9nZXRSZXNwb25zZSIsIl90aGlzMiIsInVzZXJOYW1lIiwidXNlckpvYiIsIl90aGlzMyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0IiwibGluayIsIl90aGlzNCIsImlkIiwiX3RoaXM1IiwiX3RoaXM2IiwiX3RoaXM3IiwiYXZhdGFyIiwiX3RoaXM4IiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVRyYXNoQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ1c2VySWQiLCJfbmV3RWxlbWVudCIsInJlbW92ZSIsIl9kYXRhIiwiX25hbWUiLCJfbGluayIsIl9saWtlcyIsImxpa2VzIiwiX2lkIiwiX293ZW5lcklkIiwib3duZXIiLCJfdXNlcklkIiwiX3RlbXBsYXRlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVUcmFzaENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRleHQiLCJfY2FyZEltYWdlIiwidGV4dENvbnRlbnQiLCJhbHQiLCJzcmMiLCJfdHJhc2hCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9zZXRMaXN0ZW5lcnNGb3JJdGVtIiwic2V0TGlrZXNDYXJkIiwiX293bmVySWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzb21lIiwidXNlckxpa2UiLCJuZXdMaWtlcyIsImxpa2VDb3VudGVyIiwiYWxyZWFkeUxpa2VkIiwiX2FjdGl2ZUxpa2UiLCJfZGVhY3RpdmVMaWtlIiwibGVuZ3RoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm0iLCJfZm9ybSIsIl9zZXR0aW5ncyIsIl9jdXJyZW50QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJidXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3ZhbGlkYXRlSW5wdXQiLCJldmVudCIsIl9pbnB1dCIsInRhcmdldCIsIl9pc1ZhbGlkRmllbGQiLCJfaXNWYWxpZEJ1dHRvbkFuZElucHV0IiwiX2Vycm9yU3BhbiIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tWYWxpZGl0eSIsIl9zZXRTdWJtaXRCdXR0b24iLCJfc2V0RXJyb3JJbnB1dCIsInN0YXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZGlzYWJsZUJ1dHRvbiIsImlucHV0RXJyb3JDbGFzcyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY29udGFpbnMiLCJjbG9zZSIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJoYW5kbGVGb3JtU3VibWl0IiwiY2FsbCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0Rm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwicmVzZXQiLCJsb2FkaW5nIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfdGV4dCIsIlBvcHVwV2l0aFN1Ym1pdCIsInN1Ym1pdEhhbmRsZXJzIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsInByZXBlbmQiLCJpdGVtcyIsImFwcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJ1c2VyUHJvZmlsZUltYWdlU2VsZWN0b3IiLCJfam9iIiwiX3Byb2ZpbGVJbWFnZSIsImpvYiIsIl9yZWYyIiwiaW1hZ2UiLCJwb3B1cEFkZEJ1dHRvbiIsInBvcHVwQnV0dG9uIiwiaW1hZ2VFZGl0QnV0dG9uIiwicHJvZmlsZUZvcm0iLCJmb3JtQWRkQ2FyZCIsInByb2ZpbGVJbWFnZUZvcm0iLCJwb3B1cFN1Ym1pdEJ1dHRvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJlcnJvckNsYXNzIiwicHJvZmlsZVZhbGlkYXRvckVkaXQiLCJjYXJkVmFsaWRhdG9yQWRkIiwicHJvZmlsZUltYWdlVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsIm1lIiwiY2FyZHMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2FyZHNDb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjYXJkIiwiY3JlYXRlTmV3Q2FyZCIsIm9wZW5Qb3B1cEltYWdlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cFdpdGhTdWJtaXQiLCJwb3B1cFVzZXJFZGl0IiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJyZW5kZXJlckxvYWRpbmciLCJlZGl0VXNlckluZm8iLCJwb3B1cFByb2ZpbGVJbWFnZUVkaXQiLCJlZGl0UHJvZmlsZUltYWdlIiwiZm9ybURhdGEiLCJwb3B1cEFkZENhcmQiLCJkYXRhQ2FyZCIsImFkZE5ld0NhcmQiLCJuZXdEYXRhQ2FyZCIsImFkZEl0ZW0iLCJvcGVuIiwic2V0U3VibWl0SGFuZGxlcnMiLCJkZWxldGVDYXJkIiwiZGVsZXRlTGlrZUNhcmQiLCJhZGRMaWtlQ2FyZCIsImNyZWF0ZUNhcmQiXSwic291cmNlUm9vdCI6IiJ9